<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASL: TabularDataFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="asl.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ASL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classasl_1_1_tabular_data_file.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classasl_1_1_tabular_data_file-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TabularDataFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class allows reading/writing CSV files and writing ARFF files. </p>
<p>Files have an optional header with column names, and data rows that can contain numbers (integer or floating point) or strings. When reading, the class tries to infer if there is a header and what separator and decimal symbol are used.</p>
<p>A data row is written when it has as many elements as the header indicates. Make sure you match written data to specified columns!</p>
<div class="fragment"><div class="line">TabularDataFile file(<span class="stringliteral">&quot;data.csv&quot;</span>);</div>
<div class="line"> </div>
<div class="line">file.columns(<span class="stringliteral">&quot;i,x,cos,sign&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;100; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">float</span> x = 0.1*i, y = cos(x);</div>
<div class="line">    file &lt;&lt; i &lt;&lt; x &lt;&lt; y &lt;&lt; ((y&lt;0)? <span class="stringliteral">&quot;neg&quot;</span> : <span class="stringliteral">&quot;pos&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Reading the file would be done as follows. This class will try to detect the separator used in the read file (if ',', ';' or 'tab'), and will try to detect if there is a header line (when no numbers are found in it).</p>
<div class="fragment"><div class="line">TabularDataFile file(<span class="stringliteral">&quot;data.csv&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>(file.nextRow())</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i = file[0];         <span class="comment">// Note you can use field indices</span></div>
<div class="line">    <span class="keywordtype">float</span> x = file[<span class="stringliteral">&quot;x&quot;</span>];     <span class="comment">// or column names</span></div>
<div class="line">    <span class="keywordtype">float</span> y = file[<span class="stringliteral">&quot;sin&quot;</span>];</div>
<div class="line">    String sign = file[3];</div>
<div class="line">}</div>
</div><!-- fragment --><p>Or just as:</p>
<div class="fragment"><div class="line">TabularDataFile file(<span class="stringliteral">&quot;data.csv&quot;</span>);</div>
<div class="line">Array&lt;Array&lt;Var&gt;&gt; dataset = file.data();</div>
</div><!-- fragment --><p>If a file uses a specific format that autodetection can't handle, use <code><a class="el" href="classasl_1_1_tabular_data_file.html#ac04976f1e027d2d2f353304e83b72e98" title="Sets the types to read for each column as a string with chars: i:int, n:number, h:hex,...">readAs()</a></code> to sepecify column types. That includes the ability to read numbers as hexadecimal. For example:</p>
<div class="fragment"><div class="line">file.readAs(<span class="stringliteral">&quot;hsn&quot;</span>);</div>
</div><!-- fragment --><p>will interpret a row like <code>20,20,20</code> as hexadecimal 0x20 (32), string "20" and number 20.0.</p>
<p>For writing ARFF files, just set a file name with a <code>.arff</code> extension and specify columns with optional types (default is numeric). For nominal types, write classes separated with |, for strings use 's':</p>
<div class="fragment"><div class="line">TabularDataFile file(<span class="stringliteral">&quot;data.arff&quot;</span>);  <span class="comment">// relation name will be &quot;data&quot;</span></div>
<div class="line"> </div>
<div class="line">file.columns(<span class="stringliteral">&quot;i,x,cos,sign:neg|pos,name:s&quot;</span>);</div>
</div><!-- fragment --> </div>
<p><code>#include &lt;TabularDataFile.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a572ff912d75e4a543813923079fc4b49"><td class="memItemLeft" align="right" valign="top"><a id="a572ff912d75e4a543813923079fc4b49"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a572ff912d75e4a543813923079fc4b49">TabularDataFile</a> (const <a class="el" href="classasl_1_1_string.html">String</a> &amp;filename)</td></tr>
<tr class="memdesc:a572ff912d75e4a543813923079fc4b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a data file with name <code>filename</code> for reading or writing. <br /></td></tr>
<tr class="separator:a572ff912d75e4a543813923079fc4b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef3396527d157e0856ffd786efc561a"><td class="memItemLeft" align="right" valign="top"><a id="abef3396527d157e0856ffd786efc561a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#abef3396527d157e0856ffd786efc561a">TabularDataFile</a> (const <a class="el" href="classasl_1_1_string.html">String</a> &amp;filename, const <a class="el" href="classasl_1_1_array.html">Array</a>&lt; <a class="el" href="classasl_1_1_string.html">String</a> &gt; &amp;cols)</td></tr>
<tr class="memdesc:abef3396527d157e0856ffd786efc561a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a data file with name <code>filename</code> for writing with the given column names. <br /></td></tr>
<tr class="separator:abef3396527d157e0856ffd786efc561a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affe1c768af5b7494c634915df1832fb9"><td class="memItemLeft" align="right" valign="top"><a id="affe1c768af5b7494c634915df1832fb9"></a>
<a class="el" href="classasl_1_1_tabular_data_file.html">TabularDataFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#affe1c768af5b7494c634915df1832fb9">columns</a> (const <a class="el" href="classasl_1_1_string.html">String</a> &amp;cols)</td></tr>
<tr class="memdesc:affe1c768af5b7494c634915df1832fb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the columns for the data with a comma separated list of column names. <br /></td></tr>
<tr class="separator:affe1c768af5b7494c634915df1832fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65b4d5642be16b4cd503beb3bfeffb5"><td class="memItemLeft" align="right" valign="top"><a id="ab65b4d5642be16b4cd503beb3bfeffb5"></a>
<a class="el" href="classasl_1_1_tabular_data_file.html">TabularDataFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#ab65b4d5642be16b4cd503beb3bfeffb5">columns</a> (const <a class="el" href="classasl_1_1_array.html">Array</a>&lt; <a class="el" href="classasl_1_1_string.html">String</a> &gt; &amp;cols)</td></tr>
<tr class="memdesc:ab65b4d5642be16b4cd503beb3bfeffb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the columns for the data. <br /></td></tr>
<tr class="separator:ab65b4d5642be16b4cd503beb3bfeffb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46290746a0de85de8fcb5b7d70b833d5"><td class="memItemLeft" align="right" valign="top"><a id="a46290746a0de85de8fcb5b7d70b833d5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a46290746a0de85de8fcb5b7d70b833d5">numColumns</a> () const</td></tr>
<tr class="memdesc:a46290746a0de85de8fcb5b7d70b833d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of columns. <br /></td></tr>
<tr class="separator:a46290746a0de85de8fcb5b7d70b833d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace85207e5d5b1d94a2470a3ca1760fa0"><td class="memItemLeft" align="right" valign="top"><a id="ace85207e5d5b1d94a2470a3ca1760fa0"></a>
const <a class="el" href="classasl_1_1_array.html">Array</a>&lt; <a class="el" href="classasl_1_1_string.html">String</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#ace85207e5d5b1d94a2470a3ca1760fa0">columns</a> ()</td></tr>
<tr class="memdesc:ace85207e5d5b1d94a2470a3ca1760fa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the column names. <br /></td></tr>
<tr class="separator:ace85207e5d5b1d94a2470a3ca1760fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b15f415ce57036b6ce666f5f903b72"><td class="memItemLeft" align="right" valign="top"><a id="a68b15f415ce57036b6ce666f5f903b72"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a68b15f415ce57036b6ce666f5f903b72">setSeparator</a> (char s)</td></tr>
<tr class="memdesc:a68b15f415ce57036b6ce666f5f903b72"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classasl_1_1_set.html" title="A set is a container of unique elements in any order.">Set</a> field separator (',' by default) <br /></td></tr>
<tr class="separator:a68b15f415ce57036b6ce666f5f903b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3605313a253aad3f9efcd79c290e3d82"><td class="memItemLeft" align="right" valign="top"><a id="a3605313a253aad3f9efcd79c290e3d82"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a3605313a253aad3f9efcd79c290e3d82">setDecimal</a> (char d)</td></tr>
<tr class="memdesc:a3605313a253aad3f9efcd79c290e3d82"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classasl_1_1_set.html" title="A set is a container of unique elements in any order.">Set</a> decimal separator (<code>dot</code> by default) <br /></td></tr>
<tr class="separator:a3605313a253aad3f9efcd79c290e3d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c8d6925be37cd9fb31a96a23e12cac"><td class="memItemLeft" align="right" valign="top"><a id="a83c8d6925be37cd9fb31a96a23e12cac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a83c8d6925be37cd9fb31a96a23e12cac">useQuotes</a> ()</td></tr>
<tr class="memdesc:a83c8d6925be37cd9fb31a96a23e12cac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes string values be quoted when writing. <br /></td></tr>
<tr class="separator:a83c8d6925be37cd9fb31a96a23e12cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8024fde886b6a0304d9d6fd00b8e21"><td class="memItemLeft" align="right" valign="top"><a id="a4d8024fde886b6a0304d9d6fd00b8e21"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a4d8024fde886b6a0304d9d6fd00b8e21">flushEvery</a> (int nrows)</td></tr>
<tr class="memdesc:a4d8024fde886b6a0304d9d6fd00b8e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forces a real disk write every <code>nrows</code> number of rows. <br /></td></tr>
<tr class="separator:a4d8024fde886b6a0304d9d6fd00b8e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04976f1e027d2d2f353304e83b72e98"><td class="memItemLeft" align="right" valign="top"><a id="ac04976f1e027d2d2f353304e83b72e98"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#ac04976f1e027d2d2f353304e83b72e98">readAs</a> (const <a class="el" href="classasl_1_1_string.html">String</a> &amp;types)</td></tr>
<tr class="memdesc:ac04976f1e027d2d2f353304e83b72e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the types to read for each column as a string with chars: i:int, n:number, h:hex, s:string. <br /></td></tr>
<tr class="separator:ac04976f1e027d2d2f353304e83b72e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cfe4e7ae533fddb150aa2918fbc394d"><td class="memItemLeft" align="right" valign="top"><a id="a1cfe4e7ae533fddb150aa2918fbc394d"></a>
<a class="el" href="classasl_1_1_tabular_data_file.html">TabularDataFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a1cfe4e7ae533fddb150aa2918fbc394d">operator&lt;&lt;</a> (const <a class="el" href="classasl_1_1_var.html">Var</a> &amp;x)</td></tr>
<tr class="memdesc:a1cfe4e7ae533fddb150aa2918fbc394d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends one data item to the current row, and writes the row if it reaches the number of columns defined. <br /></td></tr>
<tr class="separator:a1cfe4e7ae533fddb150aa2918fbc394d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02452f90cb63b5927e08691996000f9c"><td class="memItemLeft" align="right" valign="top"><a id="a02452f90cb63b5927e08691996000f9c"></a>
<a class="el" href="classasl_1_1_array.html">Array</a>&lt; <a class="el" href="classasl_1_1_array.html">Array</a>&lt; <a class="el" href="classasl_1_1_var.html">Var</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a02452f90cb63b5927e08691996000f9c">data</a> ()</td></tr>
<tr class="memdesc:a02452f90cb63b5927e08691996000f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the whole file contents as a matrix (array of arrays) <br /></td></tr>
<tr class="separator:a02452f90cb63b5927e08691996000f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48881f5f521ac690e74524bef95a9b5"><td class="memItemLeft" align="right" valign="top"><a id="ae48881f5f521ac690e74524bef95a9b5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#ae48881f5f521ac690e74524bef95a9b5">nextRow</a> ()</td></tr>
<tr class="memdesc:ae48881f5f521ac690e74524bef95a9b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the next row and returns true if it succeded. <br /></td></tr>
<tr class="separator:ae48881f5f521ac690e74524bef95a9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5da789d8da627aff37590098da814f"><td class="memItemLeft" align="right" valign="top"><a id="a7b5da789d8da627aff37590098da814f"></a>
<a class="el" href="classasl_1_1_var.html">Var</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a7b5da789d8da627aff37590098da814f">operator[]</a> (int i) const</td></tr>
<tr class="memdesc:a7b5da789d8da627aff37590098da814f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value for column index <code>i</code> in the current row. <br /></td></tr>
<tr class="separator:a7b5da789d8da627aff37590098da814f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a23e24cf341e76f3f86308ed81e61eb"><td class="memItemLeft" align="right" valign="top"><a id="a7a23e24cf341e76f3f86308ed81e61eb"></a>
<a class="el" href="classasl_1_1_var.html">Var</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasl_1_1_tabular_data_file.html#a7a23e24cf341e76f3f86308ed81e61eb">operator[]</a> (const <a class="el" href="classasl_1_1_string.html">String</a> &amp;col) const</td></tr>
<tr class="memdesc:a7a23e24cf341e76f3f86308ed81e61eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value for column named <code>col</code> in the current row. <br /></td></tr>
<tr class="separator:a7a23e24cf341e76f3f86308ed81e61eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>TabularDataFile.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>asl</b></li><li class="navelem"><a class="el" href="classasl_1_1_tabular_data_file.html">TabularDataFile</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
